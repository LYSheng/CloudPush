(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/settled/settled"],{"1e13":function(e,t,o){},2753:function(e,t,o){"use strict";var n=o("1e13"),s=o.n(n);s.a},"3d57":function(e,t,o){"use strict";o.r(t);var n=o("662a"),s=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=s.a},4139:function(e,t,o){"use strict";o.r(t);var n=o("7909"),s=o("3d57");for(var i in s)"default"!==i&&function(e){o.d(t,e,function(){return s[e]})}(i);o("2753");var a=o("2877"),r=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"3e0171c0",null);t["default"]=r.exports},"662a":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o("895e")),s=i(o("916e"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/mpvue-citypicker/src/mpvueCityPicker")]).then(o.bind(null,"3e01"))},r=function(){return Promise.all([o.e("common/vendor"),o.e("components/ly-picker")]).then(o.bind(null,"3b91"))},c={data:function(){return{imageSrc:"",address:"请选择地址",types:"请选择商家类型",pickerValueDefault:[0,0,0],index:0,mode:"multiLinkageSelector",deepLength:2,pickerValueArray:[{label:"火车",value:10,children:[{label:"火车1",value:11,children:[]},{label:"火车22",value:212,children:[]},{label:"火车2",value:12,children:[]},{label:"火车3",value:13,children:[]}]},{label:"火车20",value:210,children:[{label:"火车21",value:211,children:[]},{label:"火车22",value:212,children:[]},{label:"火车23",value:213,children:[]}]}],addressProvince:"",addressCity:"",addressCounty:"",merchantCategoryFirst:"",merchantCategorySecond:"",addressDetail:"",imageUrl:"",leadingName:"",name:"",phone:""}},components:{mpvueCityPicker:a,mpvuePicker:r},onShow:function(){this.queryCategory()},onLoad:function(){this.imageSrc="",console.log(this.pickerValueArray)},methods:{queryCategory:function(){var e=this,t={};n.default.Request(s.default.queryCategory,"POST",t,function(t){console.log(t),e.pickerValueArray=t,console.log(e.pickerValueArray)})},chooseImage:function(){var t=this;e.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:function(o){console.log("chooseImage success, temp path is",o.tempFilePaths[0]);var n=o.tempFilePaths[0];e.uploadFile({url:"https://api30.chuanhuoapp.com/business-user/v1/yt/uploadImage",filePath:n,fileType:"image",name:"file",success:function(o){console.log(JSON.parse(o.data));var n=JSON.parse(o.data);e.showToast({title:"上传成功",icon:"success",duration:1e3}),t.imageSrc=n.data},fail:function(t){console.log("uploadImage fail",t),e.showModal({content:t.errMsg,showCancel:!1})}})},fail:function(e){console.log("chooseImage fail",e)}})},imageSrcOneNone:function(){this.imageSrc=""},showPicker:function(){console.log(this.$refs.mpvuePicker),this.$refs.mpvuePicker.show()},showCityPicker:function(){console.log(this.$refs.mpvueCityPicker),this.$refs.mpvueCityPicker.show()},onChange:function(e){console.log(e)},onChangepicker:function(e){console.log(e)},onCancel:function(e){console.log(e),this.$refs.mpvueCityPicker.hide()},onCancelpicker:function(e){console.log(e),this.$refs.mpvuePicker.hide()},onConfirm:function(e){console.log(e),this.address=e.label;var t=this.address.split("-");console.log(t),this.addressProvince=t[0],this.addressCity=t[1],this.addressCounty=t[2],this.$refs.mpvueCityPicker.hide()},onConfirmpicker:function(e){console.log(e),this.types=e.label;var t=this.types.split("-");console.log(t),this.merchantCategoryFirst=t[0],this.merchantCategorySecond=t[1],this.$refs.mpvuePicker.hide()},join:function(){if("请选择地址"!=this.address)if(""!=this.name){if(""!=this.phone)return/^1[3456789]\d{9}$/.test(this.phone)?void("请选择商家类型"!=this.types?""!=this.leadingName?""!=this.addressDetail?""!=this.imageSrc?/^ +| +$/g.test(this.name)?e.showToast({icon:"none",title:"商家名称含有空格"}):/^ +| +$/g.test(this.leadingName)?e.showToast({icon:"none",title:"负责人名称含有空格"}):/^ +| +$/g.test(this.phone)?e.showToast({icon:"none",title:"负责人手机号含有空格"}):/^ +| +$/g.test(this.addressDetail)?e.showToast({icon:"none",title:"详细地址含有空格"}):this.saveMerchant():e.showToast({icon:"none",title:"请上传门店合影照片"}):e.showToast({icon:"none",title:"请填写详细地址"}):e.showToast({icon:"none",title:"请填写负责人名称"}):e.showToast({icon:"none",title:"请选择商家类型"})):(e.showToast({icon:"none",title:"请填写正确的手机号码"}),!1);e.showToast({icon:"none",title:"请填写商家手机号"})}else e.showToast({icon:"none",title:"请填写商家名称"});else e.showToast({icon:"none",title:"请选择地区"})},saveMerchant:function(){var t=this,o={addressCity:t.addressCity,addressCounty:t.addressCounty,addressDetail:t.addressDetail,addressProvince:t.addressProvince,image:t.imageSrc,leadingName:t.leadingName,merchantCategoryFirst:t.merchantCategoryFirst,merchantCategorySecond:t.merchantCategorySecond,name:t.name,phone:t.phone};n.default.Request(s.default.saveMerchant,"POST",o,function(t){console.log(t);var o=t;console.log(o),e.setStorageSync("codeUrl",t),e.reLaunch({url:"../settledStepTwo/settledStepTwo?query=1"})})}}};t.default=c}).call(this,o("543d")["default"])},7909:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return s})}},[["19df","common/runtime","common/vendor"]]]);