(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0d51":function(e,n,o){"use strict";var i=o("450e"),t=o.n(i);t.a},"450e":function(e,n,o){},"4b0e":function(e,n,o){"use strict";o.r(n);var i=o("b777"),t=o("7b81");for(var r in t)"default"!==r&&function(e){o.d(n,e,function(){return t[e]})}(r);o("0d51");var s=o("2877"),c=Object(s["a"])(t["default"],i["a"],i["b"],!1,null,"75136821",null);n["default"]=c.exports},"7b81":function(e,n,o){"use strict";o.r(n);var i=o("9d21"),t=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(n,e,function(){return i[e]})}(r);n["default"]=t.a},"9d21":function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(o("895e")),t=r(o("916e"));function r(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{back:!1,loading:!1}},onLoad:function(e){1==e.type&&(this.back=!0)},methods:{login:function(){this.getProvider()},getProvider:function(){var n=this;n.loading=!0,e.getProvider({service:"oauth",success:function(o){console.log(o.provider),~o.provider.indexOf("qq")?e.login({provider:"qq",success:function(e){console.log(JSON.stringify(e))}}):~o.provider.indexOf("weixin")?e.login({provider:"weixin",success:function(e){console.log(e);var o=e.code;n.getuserinfo(o)}}):~o.provider.indexOf("sinaweibo")?e.login({provider:"sinaweibo",success:function(e){console.log(JSON.stringify(e))}}):~o.provider.indexOf("xiaomi")&&e.login({provider:"xiaomi",success:function(e){console.log(JSON.stringify(e))}})}})},queryMiniOpenid:function(n){var o=this,r={authcode:n};i.default.LoginPost(t.default.queryMiniOpenid,r,function(n){o.loading=!1,console.log(n),e.setStorageSync("token",n.token),e.setStorageSync("uid",n.userId),e.setStorageSync("session",n.session),e.setStorageSync("secret",n.secret),0==n.isRegister?e.navigateTo({url:"../register/register"}):1==o.back?e.navigateBack({delta:1}):e.switchTab({url:"/pages/home/home"})})},getuserinfo:function(n){var o=this;e.getUserInfo({provider:"weixin",success:function(i){console.log(i),o.queryMiniOpenid(n),e.setStorageSync("encrypted",i.encryptedData),e.setStorageSync("iv",i.iv),e.setStorageSync("userInfo",i.userInfo),console.log("用户昵称为："+i.userInfo.nickName)},fail:function(e){console.log(e)}})}}};n.default=s}).call(this,o("543d")["default"])},b777:function(e,n,o){"use strict";var i=function(){var e=this,n=e.$createElement;e._self._c},t=[];o.d(n,"a",function(){return i}),o.d(n,"b",function(){return t})}},[["e299","common/runtime","common/vendor"]]]);